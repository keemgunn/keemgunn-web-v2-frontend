{"remainingRequest":"/Users/gunn/codespaces/keemgunn-web-v2-frontend/node_modules/thread-loader/dist/cjs.js!/Users/gunn/codespaces/keemgunn-web-v2-frontend/node_modules/babel-loader/lib/index.js!/Users/gunn/codespaces/keemgunn-web-v2-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/gunn/codespaces/keemgunn-web-v2-frontend/src/store/api/api-doorbell.js","dependencies":[{"path":"/Users/gunn/codespaces/keemgunn-web-v2-frontend/src/store/api/api-doorbell.js","mtime":1633613415189},{"path":"/Users/gunn/codespaces/keemgunn-web-v2-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1633314931844},{"path":"/Users/gunn/codespaces/keemgunn-web-v2-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1633314936449},{"path":"/Users/gunn/codespaces/keemgunn-web-v2-frontend/node_modules/babel-loader/lib/index.js","mtime":1633314931691},{"path":"/Users/gunn/codespaces/keemgunn-web-v2-frontend/node_modules/eslint-loader/index.js","mtime":1633314933310}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9ndW5uL2NvZGVzcGFjZXMva2VlbWd1bm4td2ViLXYyLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwoKdmFyIHB1YmxpY0lwID0gcmVxdWlyZSgncHVibGljLWlwJyk7Cgp2YXIgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IGZhbHNlLAogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNsaV9pcDogJzAuMC4wLjAnLAogICAgICBzZXJ2ZXJfbWVzc2FnZTogIiIKICAgIH07CiAgfSwKICBnZXR0ZXJzOiB7fSwKICBtdXRhdGlvbnM6IHsKICAgIHNldENsaUluZm86IGZ1bmN0aW9uIHNldENsaUluZm8oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuY2xpX2lwID0gcGF5bG9hZC5pcHY0OwogICAgfSwKICAgIHNhdmVTZXJ2ZXJNc2c6IGZ1bmN0aW9uIHNhdmVTZXJ2ZXJNc2coc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc2VydmVyX21lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2U7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBvcGVuVGhlRG9vcjogZnVuY3Rpb24gb3BlblRoZURvb3IoX3JlZikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBpcHY0LCBfeWllbGQkYXhpb3MkcG9zdCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlLCBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHB1YmxpY0lwLnY0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGlwdjQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRDbGlJbmZvJywgewogICAgICAgICAgICAgICAgICBpcHY0OiBpcHY0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy92aXNpdG9yL2FwaS9kb29ya25vYicsIHsKICAgICAgICAgICAgICAgICAgaXB2NDogaXB2NAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF95aWVsZCRheGlvcyRwb3N0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkcG9zdC5kYXRhOwogICAgICAgICAgICAgICAgY29tbWl0KCdzYXZlU2VydmVyTXNnJywgewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkYXRhLmdyZWV0aW5nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLnNlcnZlcl9tZXNzYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/gunn/codespaces/keemgunn-web-v2-frontend/src/store/api/api-doorbell.js"],"names":["publicIp","require","axios","namespaced","state","cli_ip","server_message","getters","mutations","setCliInfo","payload","ipv4","saveServerMsg","message","actions","openTheDoor","commit","v4","post","data","greeting","console","log"],"mappings":";;;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAxB;;AACA,IAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AAEA,eAAe;AACbE,EAAAA,UAAU,EAAE,KADC;AAGbC,EAAAA,KAAK,EAAE;AAAA,WAAO;AACZC,MAAAA,MAAM,EAAE,SADI;AAEZC,MAAAA,cAAc,EAAE;AAFJ,KAAP;AAAA,GAHM;AASbC,EAAAA,OAAO,EAAE,EATI;AAcbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UADS,sBACEL,KADF,EACSM,OADT,EACkB;AACzBN,MAAAA,KAAK,CAACC,MAAN,GAAeK,OAAO,CAACC,IAAvB;AACD,KAHQ;AAITC,IAAAA,aAJS,yBAIKR,KAJL,EAIYM,OAJZ,EAIqB;AAC5BN,MAAAA,KAAK,CAACE,cAAN,GAAuBI,OAAO,CAACG,OAA/B;AACD;AANQ,GAdE;AAwBbC,EAAAA,OAAO,EAAE;AACDC,IAAAA,WADC,6BAC8B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAjBX,gBAAAA,KAAiB,QAAjBA,KAAiB,EAAVY,MAAU,QAAVA,MAAU;AAAA;AAAA,uBAChBhB,QAAQ,CAACiB,EAAT,EADgB;;AAAA;AAC7BN,gBAAAA,IAD6B;AAEnCK,gBAAAA,MAAM,CAAC,YAAD,EAAe;AAAEL,kBAAAA,IAAI,EAAJA;AAAF,iBAAf,CAAN;AAFmC;AAAA,uBAGZT,KAAK,CAACgB,IAAN,CAAW,uBAAX,EAAoC;AAAEP,kBAAAA,IAAI,EAAJA;AAAF,iBAApC,CAHY;;AAAA;AAAA;AAG3BQ,gBAAAA,IAH2B,qBAG3BA,IAH2B;AAInCH,gBAAAA,MAAM,CAAC,eAAD,EAAkB;AAAEH,kBAAAA,OAAO,EAAEM,IAAI,CAACC;AAAhB,iBAAlB,CAAN;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYlB,KAAK,CAACE,cAAlB;;AALmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMpC;AAPM;AAxBI,CAAf","sourcesContent":["const publicIp = require('public-ip');\nconst axios = require('axios');\n\nexport default {\n  namespaced: false,\n  \n  state: () => ({\n    cli_ip: '0.0.0.0',\n    server_message: \"\"\n\n  }),\n\n  getters: {\n\n    \n  },\n\n  mutations: {\n    setCliInfo(state, payload) {\n      state.cli_ip = payload.ipv4;\n    },\n    saveServerMsg(state, payload) {\n      state.server_message = payload.message;\n    }\n\n  },\n\n  actions: {\n    async openTheDoor({ state, commit }) {\n      const ipv4 = await publicIp.v4();\n      commit('setCliInfo', { ipv4 });\n      const { data } = await axios.post('/visitor/api/doorknob', { ipv4 });\n      commit('saveServerMsg', { message: data.greeting });\n      console.log(state.server_message);\n    }\n\n  }\n}"]}]}